
<!DOCTYPE html>

<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<title>Loja Online - Corrigido</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="js/firebase-config.js"></script>
<script defer="" src="js/main.js"></script>
</head>
<body class="bg-light">
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
<div class="container d-flex justify-content-between align-items-center">
<a class="navbar-brand" href="#">🛍️ Loja Online</a>
<div>
<button class="btn btn-outline-secondary me-2 d-none" id="btn-admin" onclick="window.location.href='admin.html'">Admin</button>
<button class="btn btn-outline-primary me-2" id="btn-login" onclick="abrirLogin()">Entrar</button>
<button class="btn btn-outline-secondary d-none" id="btn-logout" onclick="logout()">Sair</button>
</div>
</div>
</nav>
<!-- Modo escuro -->
<div class="form-check form-switch text-end me-3 mt-2">
<input class="form-check-input" id="modoEscuroToggle" onchange="alternarModoEscuro()" type="checkbox"/>
<label class="form-check-label" for="modoEscuroToggle">Modo escuro</label>
</div>
<script>
    function alternarModoEscuro() {
      document.body.classList.toggle('bg-dark');
      document.body.classList.toggle('text-light');
      document.querySelectorAll('.card').forEach(card => card.classList.toggle('bg-secondary'));
    }
  </script>
<div class="container mt-4">
<!-- Filtros -->
<div class="row mb-4">
<div class="col-md-4">
<input class="form-control" id="busca" placeholder="Buscar por nome" type="text"/>
</div>
<div class="col-md-3">
<input class="form-control" id="precoMin" placeholder="Preço mínimo" type="number"/>
</div>
<div class="col-md-3">
<input class="form-control" id="precoMax" placeholder="Preço máximo" type="number"/>
</div>
<div class="col-md-2">
<button class="btn btn-primary w-100" onclick="aplicarFiltros()">Filtrar</button>
</div>
</div>
<!-- Produtos -->
<div class="row mb-5 row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4" id="produtos"></div>
<!-- Carrinho -->
<h2 class="mt-5">🛒 Meu Carrinho</h2>
<ul class="list-group mb-3" id="carrinho"></ul>
<button class="btn btn-success mb-5" onclick="finalizarCompra()">Finalizar Compra</button>
</div>
<!-- Modal de login/cadastro -->
<div class="modal fade" id="loginModal" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">Acesso ao Sistema</h5>
<button class="btn-close" data-bs-dismiss="modal" type="button"></button>
</div>
<div class="modal-body">
<input class="form-control mb-2" id="email" placeholder="Email" type="email"/>
<input class="form-control mb-3" id="senha" placeholder="Senha" type="password"/>
<button class="btn btn-primary w-100 mb-2" onclick="login()">Entrar</button>
<hr/>
<input class="form-control mb-2" id="emailCadastro" placeholder="Novo Email" type="email"/>
<input class="form-control mb-2" id="senhaCadastro" placeholder="Nova Senha" type="password"/>
<button class="btn btn-success w-100" onclick="cadastrar()">Cadastrar</button>
</div>
</div>
</div>
</div>
<!-- Scripts finais -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
      carregarProdutos();
    });
  </script>
<!-- Rodapé -->
<footer class="bg-dark text-light py-4 mt-5">
<div class="container text-center">
<p class="mb-1">© 2025 Loja Online - Todos os direitos reservados.</p>
<p class="mb-0"><small>Desenvolvido com ♥ usando Firebase &amp; Bootstrap</small></p>
</div>
</footer>
</body>
</html>
